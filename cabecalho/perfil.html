<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil</title>
    <link rel="stylesheet" href="/style/perfil.css">
</head>

<body>
    <button class="btn-back" onclick="window.location.href='/index.html'"> Voltar</button>
    <div class="container">
        <div class="profile-header">
            <img src="/assets/avatar perfil.jpg" alt="Foto de Perfil" class="profile-pic" id="profileImage"> <input
                type="file" id="profilePictureInput" accept="image/*" style="display: none;"
                onchange="changeProfilePicture(event)">
            <h1 id="userName">Nome do Usu√°rio</h1>
            <span class="status">Online</span>
        </div>
        <div class="section" id="personalInfo">
            <h2>Informa√ß√µes Pessoais</h2>
            <div class="info-item">
                <span>Nome:</span>
                <input type="text" id="nameInput" value="Nome do Usu√°rio" disabled>
            </div>
            <div class="info-item">
                <span>Email:</span>
                <input type="email" id="emailInput" value="usuario@email.com" disabled>
            </div>
            <button class="btn edit-btn" onclick="toggleEdit()">Editar</button>
            <button class="btn save-btn" onclick="saveChanges()">Salvar</button>
        </div>

        <div class="section" id="securitySection">
            <h2>Seguran√ßa</h2>
            <p>Status: <span class="security-status" id="securityStatus">Protegido</span></p>
            <div class="security-info">
                <div class="security-option">
                    <span>Autentica√ß√£o de Dois Fatores (2FA):</span>
                    <div class="toggle-switch" id="twoFactorToggle" onclick="toggleTwoFactor()">
                        <div class="switch-handle"></div>
                    </div>
                </div>
                <div class="security-option">
                    <span>For√ßa da Senha:</span>
                    <div class="password-strength" id="passwordStrength">
                        <div class="strength-bar" id="strengthBar"></div>
                    </div>
                </div>
                <button class="btn" onclick="showChangePassword()">Alterar Senha</button>
            </div>
            <div class="login-history" id="loginHistory">
                <h3>Hist√≥rico de Logins</h3>
                <ul id="loginList"></ul>
                <button class="btn" onclick="clearLoginHistory()">Limpar Hist√≥rico</button>
            </div>
            <div class="change-password hidden" id="changePasswordForm">
                <h3>Alterar Senha</h3>
                <input type="password" id="currentPassword" placeholder="Senha Atual">
                <input type="password" id="newPassword" placeholder="Nova Senha" oninput="checkPasswordStrength()">
                <input type="password" id="confirmPassword" placeholder="Confirmar Nova Senha">
                <button class="btn save-btn" onclick="changePassword()">Salvar Senha</button>
                <button class="btn" onclick="hideChangePassword()">Cancelar</button>
            </div>
        </div>

        <div class="section">
            <h2>Personaliza√ß√£o</h2>
            <p>Escolha sua cor de tema:</p>
            <div class="customization-options">
                <input type="color" class="color-picker" onchange="changeTheme(this.value)">
                <button class="btn" onclick="resetTheme()">Resetar</button>
                <div class="theme-toggle" onclick="toggleTheme()"></div>
                <span>Tema Claro/Escuro</span>
            </div>
        </div>

        <div class="section">
            <h2>Conquistas</h2>
            <div class="achievements">
                <div class="achievement-item" id="achievement1" onclick="unlockAchievement('achievement1')">
                    <i>üèÜ</i>
                    <p>Mestre do Perfil</p>
                </div>
                <div class="achievement-item locked" id="achievement2" onclick="unlockAchievement('achievement2')">
                    <i>‚≠ê</i>
                    <p>5 Estrelas</p>
                </div>
                <div class="achievement-item locked" id="achievement3" onclick="unlockAchievement('achievement3')">
                    <i>üîí</i>
                    <p>Seguran√ßa M√°xima</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Atividade</h2>
            <div class="activity-counter">
                <p>Logins este m√™s: <span id="loginCount">42</span></p>
                <button class="btn" onclick="simulateLogin()">Simular Login</button>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <!-- Carregar Firebase via script tags -->
    <script src="https://www.gstatic.com/firebasejs/11.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.0/firebase-firestore-compat.js"></script>
    <script src="/JS/perfil.js"></script>
</body>

</html>